# Default values for cas-reporting.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

backend:
  replicaCount: 1

  image:
    repository: ghcr.io/bcgov/cas-reporting-backend
    pullPolicy: Always
    # Overrides the image tag whose default is the chart appVersion.
    tag: "latest"

  deployRoute: false

  service:
    type: ClusterIP
    port: 8000

  route:
    host: ~

  resources:
    limits:
      cpu: 200m
      memory: 512Mi
    requests:
      cpu: 60m
      memory: 256Mi

  autoscaling:
    enabled: false
    minReplicas: 1
    maxReplicas: 100
    targetCPUUtilizationPercentage: 80
    # targetMemoryUtilizationPercentage: 80

frontend:
  replicaCount: 1

  image:
    repository: ghcr.io/bcgov/cas-reporting-frontend
    pullPolicy: Always
    # Overrides the image tag whose default is the chart appVersion.
    tag: "latest"

  auth:
    keycloakAuthUrl: ~
    keycloakRealms: /realms/standard
    keycloakOidc: /protocol/openid-connect
    keycloakClientId: obps-4953

  service:
    type: ClusterIP
    port: 3000

  route:
    host: ~

  resources:
    limits:
      cpu: 100m
      memory: 256Mi
    requests:
      cpu: 60m
      memory: 192Mi

  autoscaling:
    enabled: false
    minReplicas: 1
    maxReplicas: 100
    targetCPUUtilizationPercentage: 80
    # targetMemoryUtilizationPercentage: 80

database:
  # The name of the release which deploys the postgres CrunchyDB cluster
  release: cas-obps-postgres
  # The name of the secret containing the database connection strings
  secret: cas-obps-postgres-pguser-registration

devops:
  image:
    repository: hashicorp/terraform
    pullPolicy: Always
    tag: "1.4.6"

  resources:
    limits:
      cpu: 1000m
      memory: 512Mi
    requests:
      cpu: 100m
      memory: 64Mi
